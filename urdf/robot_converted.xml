<mujoco model="Bot1">
  <compiler angle="radian" meshdir="./"/>
  
  <!-- Simulation options with better contact handling -->
  <option timestep="0.002" iterations="50" solver="Newton" tolerance="1e-10">
    <flag contact="enable" gravity="enable"/>
  </option>

  <!-- Default settings for stiff joint limits and friction -->
  <default>
    <joint solimplimit="0.999 0.999 0.001" solreflimit="0.005 1" armature="0.01"/>
    <!-- Default friction: sliding, torsional, rolling -->
    <geom friction="1.5 0.005 0.001" solimp="0.95 0.99 0.001" solref="0.002 1" condim="4"/>
  </default>

  <asset>
    <mesh name="part_1" content_type="model/stl" file="part_1.stl"/>
    <mesh name="part_1__2" content_type="model/stl" file="part_1__2.stl"/>
    <mesh name="part_1__3" content_type="model/stl" file="part_1__3.stl"/>
    <mesh name="part_1__4" content_type="model/stl" file="part_1__4.stl"/>
    <!-- Terrain texture -->
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1="0.7 0.8 0.7" rgb2="0.6 0.7 0.6"/>
    <material name="grid_mat" texture="grid" texrepeat="20 20"/>
  </asset>

  <worldbody>
    <!-- Ground plane with high friction -->
    <geom name="floor" type="plane" size="10 10 0.1" material="grid_mat" friction="1.5 0.01 0.001"/>
    
    <body name="part_1" pos="0 0 0.2">
      <inertial pos="0.0209601 0.0241499 0.0199273" quat="0.5 0.5 -0.5 0.5" mass="0.552084" diaginertia="0.00201256 0.0010312 0.0010312"/>
      <joint name="floor_to_base" type="free"/>
      <!-- Visual mesh (no collision) -->
      <geom pos="-0.0290399 -0.0153501 0.0106225" quat="1 5.21775e-08 -2.02329e-09 1.35415e-08" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1" />
      
      <body name="part_1_2" pos="-0.063914 -0.0607244 -0.00112728" quat="0.382923 0.21134 0.0847142 -0.895282">
        <inertial pos="0.0508216 0.00300079 -0.0201979" quat="0.28265 0.663346 0.272142 0.637197" mass="0.139372" diaginertia="0.000187026 0.000186955 2.81071e-05"/>
        <joint limited="true" name="sh_roll_1" pos="0 0 0" axis="0 0 1" range="-2.22431 2.10411"/>
        <geom pos="-0.595484 -1.2957 0.863499" quat="1.32679e-06 1 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__2" />
        <body name="part_1_3" pos="0.1016 -0.0172 -0.0172" quat="-0.487469 0.487469 0.512225 0.512224">
          <inertial pos="0.0786937 -0.0129147 0.0184042" quat="0.466512 0.502695 0.4988 0.529964" mass="0.191635" diaginertia="0.000252901 0.000249902 5.35798e-05"/>
          <joint limited="true" name="sh_yaw_1" pos="0 0 0" axis="0 0 1" range="-0.0202957 2.99912"/>
          <geom pos="-0.600864 0.882908 1.34578" quat="1.32679e-06 1 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__3" />
          <body name="part_1_4" pos="0.1253 0 -0.0007">
            <inertial pos="-0.0423193 0.0357184 0.0189022" quat="0.590331 0.590316 0.389231 0.389275" mass="0.0518909" diaginertia="5.92899e-05 5.27497e-05 1.31168e-05"/>
            <joint limited="true" name="kn_yaw_1" pos="0 0 0" axis="0 0 1" range="-1.8675 0"/>
            <geom pos="0 0 0" quat="0.566404 0 0 -0.824127" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__4"/>
            <!-- Foot contact sphere -->
            <geom name="foot1_contact" type="sphere" size="0.001" pos="-0.14 0.05 0.02" rgba="0 1 0 0.8" friction="2.0 0.02 0.002"/>
          </body>
        </body>
      </body>
      <body name="part_1_5" pos="0.105834 -0.0607243 -0.00112728" quat="0.897395 0.0858871 0.210866 -0.377943">
        <inertial pos="0.0508216 0.00300079 -0.0201979" quat="0.28265 0.663346 0.272142 0.637197" mass="0.139372" diaginertia="0.000187026 0.000186955 2.81071e-05"/>
        <joint limited="true" name="sh_roll_2" pos="0 0 0" axis="0 0 1" range="-2.1763 2.12593"/>
        <geom pos="-0.595484 -1.2957 0.863499" quat="1.32679e-06 1 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__2" />
        <body name="part_1_6" pos="0.1016 -0.0172 -0.0172" quat="-0.486859 0.486859 0.512805 0.512804">
          <inertial pos="0.0786937 -0.0129147 0.0184042" quat="0.466512 0.502695 0.4988 0.529964" mass="0.191635" diaginertia="0.000252901 0.000249902 5.35798e-05"/>
          <joint limited="true" name="sh_yaw_2" pos="0 0 0" axis="0 0 1" range="-0.00046306 3.01728"/>
          <geom pos="-0.600864 0.882908 1.34578" quat="1.32679e-06 1 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__3" />
          <body name="part_1_7" pos="0.1253 0 -0.0007" quat="0.572069 0 0 -0.820205">
            <inertial pos="-0.0181801 -0.0523088 0.0189022" quat="0.706958 0.706995 -0.0135554 -0.0135832" mass="0.0518909" diaginertia="5.929e-05 5.27497e-05 1.31167e-05"/>
            <joint limited="true" name="kn_yaw_2" pos="0 0 0" axis="0 0 1" range="-1.89874 0.00367303"/>
            <geom pos="0 0 0" quat="1 0 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__4"/>
            <!-- Foot contact sphere -->
            <geom name="foot2_contact" type="sphere" size="0.001" pos="0 -0.15 0.02" rgba="0 1 0 0.8" friction="2.0 0.02 0.002"/>
          </body>
        </body>
      </body>
      <body name="part_1_8" pos="0.105834 0.109024 -0.00112726" quat="0.973371 -0.165335 0.156542 -0.0265898">
        <inertial pos="0.030927 0.0404396 -0.0201979" quat="0.523111 0.697014 0.00908574 -0.490351" mass="0.139372" diaginertia="0.000187026 0.000186955 2.8107e-05"/>
        <joint limited="true" name="sh_roll_3" pos="0 0 0" axis="0 0 1" range="-2.22029 2.10813"/>
        <geom pos="0.592033 -1.29728 0.863499" quat="1.20631e-06 0.909188 0.416385 5.52458e-07" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__2" />
        <body name="part_1_9" pos="0.0793927 0.0656901 -0.0172" quat="0.642892 -0.642894 -0.294429 0.294428">
          <inertial pos="-0.0182232 -0.0776363 0.0184042" quat="0.705732 0.707663 -0.0267869 0.0209295" mass="0.191635" diaginertia="0.000252901 0.000249902 5.35798e-05"/>
          <joint limited="true" name="sh_yaw_3" pos="0 0 0" axis="0 0 1" range="-0.00192597 3.00877"/>
          <geom pos="0.921634 0.539587 1.34578" quat="9.05808e-07 0.682704 -0.730695 -9.69483e-07" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__3" />
          <body name="part_1_10" pos="-0.00849973 -0.125011 -0.0007" quat="0.211057 0 0 0.977474">
            <inertial pos="-0.0181801 -0.0523088 0.0189022" quat="0.706958 0.706995 -0.0135554 -0.0135832" mass="0.0518909" diaginertia="5.929e-05 5.27497e-05 1.31167e-05"/>
            <joint limited="true" name="kn_yaw_3" pos="0 0 0" axis="0 0 1" range="-1.86497 0.0123759"/>
            <geom pos="0 0 0" quat="1 0 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__4"/>
            <!-- Foot contact sphere -->
            <geom name="foot3_contact" type="sphere" size="0.001" pos="0 -0.15 0.02" rgba="0 1 0 0.8" friction="2.0 0.02 0.002"/>
          </body>
        </body>
      </body>
      <body name="part_1_11" pos="-0.0639141 0.109024 -0.00112726" quat="0.344134 -0.207508 0.0937099 0.910895">
        <inertial pos="0.0508216 0.00300079 -0.0201979" quat="0.28265 0.663346 0.272142 0.637197" mass="0.139372" diaginertia="0.000187026 0.000186955 2.81071e-05"/>
        <joint limited="true" name="sh_roll_4" pos="0 0 0" axis="0 0 1" range="-2.2539 2.0686"/>
        <geom pos="-0.595484 -1.2957 0.863499" quat="1.32679e-06 1 0 0" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__2" />
        <body name="part_1_12" pos="0.1016 -0.0172 -0.0172" quat="0.707105 -0.707108 0 0">
          <inertial pos="-0.0174934 -0.077804 0.0184042" quat="0.705627 0.70778 -0.0234651 0.024243" mass="0.191635" diaginertia="0.000252901 0.000249902 5.35797e-05"/>
          <joint limited="true" name="sh_yaw_4" pos="0 0 0" axis="0 0 1" range="-0.00288512 3.0168"/>
          <geom pos="0.916527 0.548217 1.34578" quat="9.10349e-07 0.686127 -0.727482 -9.6522e-07" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__3" />
          <body name="part_1_13" pos="-0.00732563 -0.125086 -0.0007" quat="0.686127 0 0 -0.727482">
            <inertial pos="-0.0422016 0.0358574 0.0189022" quat="0.590971 0.590956 0.38826 0.388304" mass="0.0518909" diaginertia="5.929e-05 5.27497e-05 1.31167e-05"/>
            <joint limited="true" name="kn_yaw_4" pos="0 0 0" axis="0 0 1" range="-1.84416 0.0207427"/>
            <geom pos="0 0 0" quat="0.565052 0 0 -0.825055" type="mesh" contype="0" conaffinity="0" rgba="0.25098 0.25098 0.25098 1" mesh="part_1__4"/>
            <!-- Foot contact sphere -->
            <geom name="foot4_contact" type="sphere" size="0.001" pos="-0.14 0.05 0.02" rgba="0 1 0 0.8" friction="2.0 0.02 0.002"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <!-- Leg 1 -->
    <motor name="sh_roll_1_motor" joint="sh_roll_1" gear="3" ctrlrange="-10 10"/>
    <motor name="sh_yaw_1_motor" joint="sh_yaw_1" gear="3" ctrlrange="-10 10"/>
    <motor name="kn_yaw_1_motor" joint="kn_yaw_1" gear="3" ctrlrange="-10 10"/>
    
    <!-- Leg 2 -->
    <motor name="sh_roll_2_motor" joint="sh_roll_2" gear="3" ctrlrange="-10 10"/>
    <motor name="sh_yaw_2_motor" joint="sh_yaw_2" gear="3" ctrlrange="-10 10"/>
    <motor name="kn_yaw_2_motor" joint="kn_yaw_2" gear="3" ctrlrange="-10 10"/>
    
    <!-- Leg 3 -->
    <motor name="sh_roll_3_motor" joint="sh_roll_3" gear="3" ctrlrange="-10 10"/>
    <motor name="sh_yaw_3_motor" joint="sh_yaw_3" gear="3" ctrlrange="-10 10"/>
    <motor name="kn_yaw_3_motor" joint="kn_yaw_3" gear="3" ctrlrange="-10 10"/>
    
    <!-- Leg 4 -->
    <motor name="sh_roll_4_motor" joint="sh_roll_4" gear="3" ctrlrange="-10 10"/>
    <motor name="sh_yaw_4_motor" joint="sh_yaw_4" gear="3" ctrlrange="-10 10"/>
    <motor name="kn_yaw_4_motor" joint="kn_yaw_4" gear="3" ctrlrange="-10 10"/>
  </actuator>
</mujoco>

